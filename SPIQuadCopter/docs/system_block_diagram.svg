<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="478px" preserveAspectRatio="none" style="width:1019px;height:478px;" version="1.1" viewBox="0 0 1019 478" width="1019px" zoomAndPan="magnify"><defs><filter height="300%" id="ftu2yk0a1aryo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="327" x="356" y="19.2419">SPIQuadCopter System Block Diagram</text><!--MD5=[3ed9a2f94ead963c5f3936fd4bc97690]
cluster WB--><polygon fill="#FFFFFF" filter="url(#ftu2yk0a1aryo)" points="30,319.5158,187,319.5158,194,344.5838,997,344.5838,997,466.5158,30,466.5158,30,319.5158" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="30" x2="194" y1="344.5838" y2="344.5838"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="151" x="34" y="336.4818">Wishbone Peripherals</text><!--MD5=[5a4b598ab91e402e1ab190502faac4a3]
cluster PASSTHROUGH_PKG--><polygon fill="#FFFFFF" filter="url(#ftu2yk0a1aryo)" points="667,49.0158,894,49.0158,901,74.0838,904,74.0838,904,142.0158,667,142.0158,667,49.0158" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="667" x2="901" y1="74.0838" y2="74.0838"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="221" x="671" y="65.9818">UART Passthrough (standalone)</text><!--MD5=[6e3c3ccc6bcfbfb9d8aa2ba9ff03dce4]
entity SPI_MASTER--><polygon fill="#FFFFFF" filter="url(#ftu2yk0a1aryo)" points="520.5,66.5158,610.5,66.5158,617.5,91.5838,647.5,91.5838,647.5,146.7196,520.5,146.7196,520.5,66.5158" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="520.5" x2="617.5" y1="91.5838" y2="91.5838"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="524.5" y="84.4818">SPI_MASTER</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="530.5" y="113.5497">SPI Master</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="530.5" y="132.6176">(Raspberry Pi)</text><!--MD5=[6501f345ffec8c404045b662ce434929]
entity LED--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="77.2038" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="54" y="365.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="49" y="370.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="49" y="432.7196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="64" y="390.4818">LED Controller</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="64" y="409.5497">(0x0000)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="64" y="428.6176">o_led[3:0]</text><!--MD5=[a31d26b8e8726018bfcfa2a2fd5ceaf7]
entity DSHOT--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="77.2038" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="205" y="365.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="200" y="370.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="200" y="432.7196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="215" y="390.4818">DSHOT Controller</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="215" y="409.5497">(0x0100)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="215" y="428.6176">dshot_out[3:0]</text><!--MD5=[404a2d947f1027b985d74e3dcd5a02e8]
entity PWM--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="77.2038" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="378" y="365.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="373" y="370.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="373" y="432.7196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="388" y="390.4818">PWM Decoder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="388" y="409.5497">(0x0200)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="388" y="428.6176">pwm_in[5:0]</text><!--MD5=[8e47861dac1ef42743d4d072d8a9dded]
entity NEOPX--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="77.2038" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="527.5" y="365.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="522.5" y="370.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="522.5" y="432.7196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="537.5" y="390.4818">NeoPixel Ctrl</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="537.5" y="409.5497">(0x0300)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="537.5" y="428.6176">neopixel_data</text><!--MD5=[55d3b0a90c5f84155f5367fad5496924]
entity MUX--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="77.2038" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="675.5" y="365.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="670.5" y="370.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="670.5" y="432.7196"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="685.5" y="390.4818">Serial/DSHOT Mux</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="685.5" y="409.5497">(0x0400)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="685.5" y="428.6176">mux_sel</text><!--MD5=[6116455d0a7d9038a31672d147239a96]
entity VER--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="58.1358" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="854" y="375.0158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="849" y="380.0158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="849" y="423.1517"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="864" y="399.9818">Version Reg</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="864" y="419.0497">(0x1FF0)</text><!--MD5=[3d6409c937378f82e7e6dbe4d87b07e9]
entity PASSTHROUGH--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="39.0679" style="stroke: #A80036; stroke-width: 1.5;" width="194" x="687" y="87.0158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="682" y="92.0158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="682" y="116.0838"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="697" y="111.9818">UART Passthrough Bridge</text><!--MD5=[f03ff1ff443fb6f14155effc79ec34a2]
entity SPI_BRIDGE--><rect fill="#FEFECE" filter="url(#ftu2yk0a1aryo)" height="39.0679" style="stroke: #A80036; stroke-width: 1.5;" width="180" x="494" y="225.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="489" y="230.5158"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="489" y="254.5838"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="160" x="504" y="250.4818">SPI-to-Wishbone Bridge</text><!--MD5=[043f8a8b97ccfac95091bd8720172828]
link SPI_MASTER to SPI_BRIDGE--><path d="M584,146.6358 C584,170.3558 584,199.8558 584,220.1258 " fill="none" id="SPI_MASTER-&gt;SPI_BRIDGE" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="584,225.3358,588,216.3358,584,220.3358,580,216.3358,584,225.3358" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[059c4d2bd024f02753ffa9e63d48a48f]
link SPI_BRIDGE to LED--><path d="M493.63,251.2458 C393.13,258.4258 238.31,273.9458 188,303.5158 C165.08,316.9858 146.71,340.2958 133.78,360.9658 " fill="none" id="SPI_BRIDGE-&gt;LED" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="131.11,365.3358,139.2283,359.7597,133.7265,361.0751,132.4111,355.5733,131.11,365.3358" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4d95bdd65c9e09b17aa54d0acad95603]
link SPI_BRIDGE to DSHOT--><path d="M493.93,256.6558 C451.25,264.7358 400.99,278.8658 361,303.5158 C337.47,318.0158 316.83,340.8958 301.56,361.0558 " fill="none" id="SPI_BRIDGE-&gt;DSHOT" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="298.38,365.3158,306.9607,360.4815,301.364,361.3039,300.5416,355.7071,298.38,365.3158" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8db3ad240ce05f91792fc4baae00cb2d]
link SPI_BRIDGE to PWM--><path d="M556.56,264.6558 C541.96,275.2058 524.16,289.1458 510,303.5158 C492.78,320.9958 476.09,342.5158 462.85,361.0658 " fill="none" id="SPI_BRIDGE-&gt;PWM" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="459.91,365.2258,468.3811,360.2019,462.804,361.1485,461.8574,355.5714,459.91,365.2258" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[cc08c5d6fce4eedc3437a1f31d2fe8c6]
link SPI_BRIDGE to NEOPX--><path d="M584,264.6458 C584,287.9858 584,328.7158 584,359.9658 " fill="none" id="SPI_BRIDGE-&gt;NEOPX" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="584,365.2858,588,356.2858,584,360.2858,580,356.2858,584,365.2858" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8d04e7d25da7bd5b359e86a407a0b4b8]
link SPI_BRIDGE to MUX--><path d="M610.27,264.6158 C624.85,275.3858 643.01,289.5258 658,303.5158 C677.06,321.3058 696.56,342.6658 712.42,361.0358 " fill="none" id="SPI_BRIDGE-&gt;MUX" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="715.96,365.1458,713.1399,355.7094,712.706,361.3496,707.0659,360.9157,715.96,365.1458" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b8a677d934a86702f14e1075b4531716]
link SPI_BRIDGE to VER--><path d="M668.7,264.5858 C740.49,280.4358 832.4,301.0658 836,303.5158 C860.06,319.8958 878.05,347.8558 889.46,369.9658 " fill="none" id="SPI_BRIDGE-&gt;VER" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="891.8,374.5958,891.3151,364.7589,889.5468,370.1323,884.1735,368.364,891.8,374.5958" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e24d45db0a87381647b2828c85656605]
link PASSTHROUGH to SPI_BRIDGE--><path d="M756.61,126.2058 C718.42,152.2758 649.57,199.2658 611.38,225.3258 " fill="none" id="PASSTHROUGH-SPI_BRIDGE" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="679" y="191.4129">Hardware Mux</text><!--MD5=[5dba1c8cebc2f6a3994b792aed6581ca]
link PASSTHROUGH to WB--><!--MD5=[d5be352c4d93720148bb8b9626045469]
@startuml
title SPIQuadCopter System Block Diagram

package "SPI Master\n(Raspberry Pi)" as SPI_MASTER {
}

component "SPI-to-Wishbone Bridge" as SPI_BRIDGE

SPI_MASTER -down-> SPI_BRIDGE

package "Wishbone Peripherals" as WB {
  component "LED Controller\n(0x0000)\no_led[3:0]" as LED
  component "DSHOT Controller\n(0x0100)\ndshot_out[3:0]" as DSHOT
  component "PWM Decoder\n(0x0200)\npwm_in[5:0]" as PWM
  component "NeoPixel Ctrl\n(0x0300)\nneopixel_data" as NEOPX
  component "Serial/DSHOT Mux\n(0x0400)\nmux_sel" as MUX
  component "Version Reg\n(0x1FF0)" as VER
}

SPI_BRIDGE - -> LED
SPI_BRIDGE - -> DSHOT
SPI_BRIDGE - -> PWM
SPI_BRIDGE - -> NEOPX
SPI_BRIDGE - -> MUX
SPI_BRIDGE - -> VER

package "UART Passthrough (standalone)" as PASSTHROUGH_PKG {
  [UART Passthrough Bridge] as PASSTHROUGH
}

PASSTHROUGH .. SPI_BRIDGE : "Hardware Mux"
PASSTHROUGH -[hidden]- WB

@enduml

PlantUML version 1.2020.02(Sun Mar 01 04:22:07 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.10+7-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>